refactor for database.ts for 

edit/delete bug